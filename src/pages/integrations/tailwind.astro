---
import IntegrationLayout from '../../layouts/IntegrationLayout.astro'
import Terminal from '../../components/Terminal.astro'

const features = [
  {
    title: 'Arbitrary Value Detection',
    description: 'Find arbitrary values like [#ff0000] or [16px] that bypass your Tailwind theme.'
  },
  {
    title: 'Theme Extraction',
    description: 'Extract design tokens from your tailwind.config.ts as the source of truth.'
  },
  {
    title: 'Class Analysis',
    description: 'Analyze class usage patterns and detect inconsistent utility combinations.'
  },
  {
    title: 'Custom Class Detection',
    description: 'Find custom CSS that could be replaced with Tailwind utilities.'
  },
  {
    title: '@apply Scanning',
    description: 'Scan @apply directives for hardcoded values and unused utilities.'
  },
  {
    title: 'JIT Compatibility',
    description: 'Works with Tailwind JIT mode and v4 CSS-first configuration.'
  },
]

const terminalLines = [
  { text: '', delay: 600 },
  { text: '<span class="text-buoy">âš“</span> Scanning Tailwind usage...', type: 'output', delay: 800 },
  { text: '', delay: 1200 },
  { text: 'Found <span class="text-light">2,847</span> Tailwind class usages', type: 'output', delay: 1400 },
  { text: 'Found <span class="text-light">156</span> unique utility classes', type: 'output', delay: 1600 },
  { text: '', delay: 1800 },
  { text: '<span class="text-warning">WARNING</span> 23 arbitrary values detected', type: 'warning', delay: 2000 },
  { text: 'â”œâ”€ bg-[#3b82f6] â†’ use bg-primary', type: 'warning', delay: 2200 },
  { text: 'â”œâ”€ p-[14px] â†’ use p-3.5', type: 'warning', delay: 2400 },
  { text: 'â””â”€ text-[13px] â†’ use text-sm', type: 'warning', delay: 2600 },
  { text: '', delay: 2800 },
  { text: '<span class="text-info">INFO</span> 8 classes could use theme values', type: 'info', delay: 3000 },
]
---

<IntegrationLayout
  title="Tailwind CSS Design Token Extraction | Buoy"
  description="Extract design tokens from Tailwind config. Detect when developers use arbitrary values instead of your Tailwind theme."
  keywords="tailwind design tokens, tailwind config extraction, tailwind consistency"
  heroTitle="Tailwind CSS Design Token Extraction"
  heroDescription="Keep your Tailwind usage consistent. Detect arbitrary values, extract tokens from your config, and ensure developers use your theme."
  icon="ðŸŒŠ"
  iconBg="bg-cyan-500/20"
>
  <!-- Features Grid -->
  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">Tailwind Integration Features</h2>

      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {features.map((feature) => (
          <div class="bg-navy/50 border border-navy-light/20 rounded-xl p-6">
            <h3 class="font-semibold text-light mb-2">{feature.title}</h3>
            <p class="text-sm text-slate">{feature.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Terminal Demo -->
  <section class="py-16 bg-navy">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">See it in action</h2>
      <Terminal command="buoy drift check --tailwind" lines={terminalLines} />
    </div>
  </section>

  <!-- Configuration -->
  <section class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">Configuration Example</h2>

      <div class="bg-navy border border-navy-light/30 rounded-xl overflow-hidden">
        <div class="px-4 py-3 bg-navy-dark border-b border-navy-light/20">
          <span class="text-sm text-slate font-mono">buoy.config.mjs</span>
        </div>
        <pre class="p-4 text-sm font-mono overflow-x-auto"><code class="text-slate">{`// buoy.config.mjs
export default {
  // Path to your Tailwind config
  tailwind: './tailwind.config.ts',

  // Tailwind-specific options
  tailwindOptions: {
    // Warn on arbitrary values
    warnArbitrary: true,

    // Allow these arbitrary values
    allowArbitrary: [
      'text-\\[inherit\\]',
      'bg-\\[transparent\\]',
    ],

    // Extract theme as tokens
    extractTheme: true,
  },

  include: ['src/**/*.tsx'],
}`}</code></pre>
      </div>
    </div>
  </section>

  <!-- Before/After -->
  <section class="py-16 bg-navy">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-light mb-8 text-center">Arbitrary Values â†’ Theme Values</h2>

      <div class="grid md:grid-cols-2 gap-8">
        <div>
          <h3 class="text-lg font-semibold text-light mb-4 flex items-center gap-2">
            <span class="text-critical">âœ—</span> Before
          </h3>
          <div class="bg-navy-dark border border-navy-light/30 rounded-xl p-4 font-mono text-sm">
            <code class="text-slate">{`<div class="bg-[#3b82f6] p-[14px] text-[13px]">
  Content
</div>`}</code>
          </div>
        </div>

        <div>
          <h3 class="text-lg font-semibold text-light mb-4 flex items-center gap-2">
            <span class="text-success">âœ“</span> After
          </h3>
          <div class="bg-navy-dark border border-success/30 rounded-xl p-4 font-mono text-sm">
            <code class="text-slate">{`<div class="bg-primary p-3.5 text-sm">
  Content
</div>`}</code>
          </div>
        </div>
      </div>
    </div>
  </section>
</IntegrationLayout>
